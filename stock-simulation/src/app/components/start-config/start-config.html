<div class="start-config-container">
  <h1>株式投資シミュレーション - 設定</h1>

  <form (ngSubmit)="onSubmit()" class="config-form">
    <div class="form-group">
      <label for="company">銘柄選択:</label>
      <select
        id="company"
        [(ngModel)]="selectedCompanyCode"
        name="company"
        (change)="onCompanyChange()">
        <option value="">-- 銘柄を選択してください --</option>
        <option *ngFor="let company of companies" [value]="company.code">
          {{ company.name }}({{ company.code }})
        </option>
      </select>
      <small *ngIf="csvDataLoaded" class="success-message">✓ {{ csvDataInfo }}</small>
    </div>

    <div class="form-group">
      <label for="csvFile">または手動でCSVファイルを選択:</label>
      <input
        type="file"
        id="csvFile"
        (change)="onFileSelected($event)"
        accept=".csv">
      <small>形式: 日付,始値,高値,安値,終値,出来高</small>
    </div>

    <div class="form-group">
      <label for="startDate">開始年月日:</label>
      <input
        type="date"
        id="startDate"
        [(ngModel)]="startDateStr"
        name="startDate"
        required>
    </div>

    <div class="form-group">
      <label for="period">期間 (日数):</label>
      <input
        type="number"
        id="period"
        [(ngModel)]="config.period"
        name="period"
        min="1"
        required>
    </div>

    <div class="form-group">
      <label for="initialCash">初期資金 (円):</label>
      <input
        type="number"
        id="initialCash"
        [(ngModel)]="config.initialCash"
        name="initialCash"
        min="1"
        step="10000"
        (ngModelChange)="onInitialCashChange()"
        required>
    </div>

    <div class="form-group">
      <label for="tradeAmount">売買単位金額 (円):</label>
      <input
        type="number"
        id="tradeAmount"
        [(ngModel)]="config.tradeAmount"
        name="tradeAmount"
        min="1"
        step="10000"
        required>
    </div>

    <div class="form-group">
      <label for="maxPositions">最大保有ポジション数:</label>
      <input
        type="number"
        id="maxPositions"
        [(ngModel)]="config.maxPositions"
        name="maxPositions"
        min="1"
        max="20"
        required>
      <small>同時に保有できる売買ポジションの最大数（デフォルト: 5）</small>
    </div>

    <button type="submit" class="start-button">シミュレーション開始</button>
  </form>
</div>
